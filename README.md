# 事件記録ルーティングゲーム

検務（事件係）をテーマにしたWebゲームです。事件記録トークン（1～9）を、盤面上の矢印で誘導し、対応する検察官室（1～9）へ正しく届けることが目的です。

## 🎮 ゲーム概要

- **盤面**: 4×4の交差点グリッド
- **事件記録**: 番号1～9のトークンが事件係から発生
- **検察官室**: 1～9号室（右側と下側、および右下の特別9号室）
- **操作**: 交差点をタップして矢印を回転
- **目標**: トークン番号と同じ部屋へ正しく届ける

## 🚀 起動方法

1. `index.html` をブラウザで開く
2. 難易度を選択（イージー/ノーマル/ハード）
3. ゲームスタート！

**推奨環境**:
- モダンブラウザ（Chrome、Firefox、Safari、Edge）
- スマートフォン縦画面で最適化
- PCでも動作可能

## 🎯 操作方法

- **タップ/クリック**: 交差点の矢印を時計回りに回転
- **矢印の回転順**: N（北） → E（東） → S（南） → W（西） → N...
- **特別な(3,3)**: N → E → SE → S → W → N（9号室用のSE方向あり）

## 📊 ゲームルール

### 基本ルール
1. トークンは1秒ごとに1マス進む（難易度により変化）
2. トークンは矢印の方向に従って移動
3. 番号と一致する部屋に届けると得点（正配達）
4. 番号と異なる部屋に届けるとミス（誤配達）
5. 同じマスに2つ以上のトークンは入れない（混雑）

### スコアリング
- **正配達**: +10点（コンボボーナスあり）
- **コンボボーナス**: 2連続以降、+1～+5点追加
- **誤配達**: -5点、ライフ-1
- **滞留**: -3点、ライフ-1（動けない状態が続く）

### ゲーム終了条件
- 制限時間60秒経過
- ライフが0になる（初期ライフ3）

## 🎚️ 難易度

### イージー
- 移動速度: 1.2秒/マス
- 同時トークン数: 最大2個
- 矢印初期配置: 出口寄り

### ノーマル
- 移動速度: 1.0秒/マス
- 同時トークン数: 最大3個
- 矢印初期配置: ランダム

### ハード
- 移動速度: 0.8秒/マス
- 同時トークン数: 最大4個
- 矢印初期配置: ランダム（一部は出口から遠ざける）

## 🗺️ 盤面配置

```
        事件係
           ↓
    [0,0][0,1][0,2][0,3] → 1号室
    [1,0][1,1][1,2][1,3] → 2号室
    [2,0][2,1][2,2][2,3] → 3号室
    [3,0][3,1][3,2][3,3] → 4号室
      ↓    ↓    ↓    ↓  ↘
     5号室 6号室 7号室 8号室  9号室
```

## 💡 攻略のコツ

1. **事前準備**: ゲーム開始前に矢印を出口方向に揃えておく
2. **優先順位**: 出口に近いトークンから誘導する
3. **渋滞回避**: 複数トークンが重ならないよう経路を分散
4. **9号室**: 右下の[3,3]からSE方向のみ到達可能
5. **コンボ維持**: 連続正配達でボーナス獲得

## 🛠️ 技術仕様

- **フレームワーク**: なし（Pure JavaScript）
- **描画**: HTML5 Canvas
- **レスポンシブ**: スマホ縦画面優先設計
- **依存関係**: なし（単体HTML実行可能）

## 📝 ファイル構成

- `index.html` - メインHTMLファイル
- `style.css` - スタイルシート
- `main.js` - ゲームロジック
- `README.md` - このファイル

## 🎨 カスタマイズ

ゲームの難易度や設定は `main.js` の `DIFFICULTY_SETTINGS` オブジェクトで調整可能です。

```javascript
const DIFFICULTY_SETTINGS = {
    easy: {
        tickSeconds: 1.2,      // 移動速度
        maxTokens: 2,          // 同時トークン数
        spawnIntervals: [7, 6, 5], // スポーン間隔
        arrowInit: 'biased'    // 矢印初期化方法
    },
    // ...
};
```

## 🐛 既知の問題

特になし

## 📄 ライセンス

MIT License

---

楽しんでプレイしてください！🎉
